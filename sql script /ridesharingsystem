SET FOREIGN_KEY_CHECKS = 0;


CREATE TABLE `users` (
id int NOT NULL AUTO_INCREMENT,
username VARCHAR(255) not null,
email VARCHAR(255) not null,
phone_number VARCHAR(255) not null,
password VARCHAR(255) not null,
#role VARCHAR(255) not null,
registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=latin1;

create table `ride`(
	id int not null auto_increment,
	origin varchar(255) not null,
	destination varchar(255) not null,
	ride_date varchar(255) not null,
	ride_time varchar(255) not null,
	total_seats int not null,
	available_seats int default 0,
	price_perseat double not null,
	ride_status varchar(255) not null,
	comments varchar(255) not null,
	created_at timestamp not null,
	updated_at timestamp default current_timestamp,
	driver_id int not null,
	primary key (`id`),
	KEY `FK_DETAIL_idx` (`driver_id`),
	CONSTRAINT `FK_DETAIL` FOREIGN KEY (`driver_id`) REFERENCES `drivers` (`id`) 
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=latin1;


CREATE TABLE `drivers` (
id int NOT NULL AUTO_INCREMENT,
username VARCHAR(255) not null,
email VARCHAR(255) not null,
phone_number VARCHAR(255) not null,
password VARCHAR(255) not null,
vehicle_details varchar(225) not null,
license_number varchar(255) not null,
registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=latin1;
